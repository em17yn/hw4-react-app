{"ast":null,"code":"import React,{useState}from'react';import{Card,CardContent,Button,TextField}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProjectCard(_ref){let{project,setProjectJoined,hardwareQty,setHardwareQty}=_ref;const[message,setMessage]=useState('');const[qtyInput,setQtyInput]=useState(1);const showMessage=msg=>{setMessage(msg);setTimeout(()=>setMessage(''),3000);};const handleJoin=async()=>{try{const endpoint=project.joined?'leave':'join';const res=await fetch(`/${endpoint}?projectId=${project.id}`);const data=await res.json();showMessage(data.message);setProjectJoined(project.id,!project.joined);}catch(err){showMessage('Error connecting to server');}};const handleCheckIn=async()=>{try{const res=await fetch(`/checkin?projectId=${project.id}&qty=${qtyInput}`);const data=await res.json();showMessage(data.message);setHardwareQty(hardwareQty+Number(qtyInput));}catch(err){showMessage('Check-in failed');}};const handleCheckOut=async()=>{if(qtyInput>hardwareQty){showMessage(`Not enough hardware. Only ${hardwareQty} available.`);return;}try{const res=await fetch(`/checkout?projectId=${project.id}&qty=${qtyInput}`);const data=await res.json();showMessage(data.message);setHardwareQty(hardwareQty-Number(qtyInput));}catch(err){showMessage('Check-out failed');}};const buttonStyle={backgroundColor:'#ffb3c1',marginRight:'0.5rem','&:hover':{backgroundColor:'#ff9fb2'}};return/*#__PURE__*/_jsx(Card,{sx:{margin:'1rem 0',border:'2px solid #ffc1cc',borderRadius:'12px'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#f47c7c',marginBottom:'0.5rem'},children:project.name}),/*#__PURE__*/_jsx(\"p\",{style:{marginBottom:'1rem'},children:project.joined?'You have joined this project.':'You are not joined yet.'}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.9rem',marginBottom:'0.5rem'},children:[\"Shared hardware available: \",/*#__PURE__*/_jsx(\"strong\",{children:hardwareQty})]}),/*#__PURE__*/_jsx(TextField,{type:\"number\",label:\"Qty\",size:\"small\",inputProps:{min:1},value:qtyInput,onChange:e=>setQtyInput(Math.max(1,Number(e.target.value))),sx:{marginBottom:'1rem',marginRight:'0.5rem',width:'80px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleJoin,sx:{backgroundColor:project.joined?'#ff99ac':'#ffb3c1',marginRight:'0.5rem','&:hover':{backgroundColor:project.joined?'#ff748c':'#ff9fb2'}},children:project.joined?'Leave Project':'Join Project'}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleCheckOut,sx:buttonStyle,children:\"Check Out\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleCheckIn,sx:buttonStyle,children:\"Check In\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',fontStyle:'italic',fontSize:'0.9rem'},children:message})]})});}export default ProjectCard;","map":{"version":3,"names":["React","useState","Card","CardContent","Button","TextField","jsx","_jsx","jsxs","_jsxs","ProjectCard","_ref","project","setProjectJoined","hardwareQty","setHardwareQty","message","setMessage","qtyInput","setQtyInput","showMessage","msg","setTimeout","handleJoin","endpoint","joined","res","fetch","id","data","json","err","handleCheckIn","Number","handleCheckOut","buttonStyle","backgroundColor","marginRight","sx","margin","border","borderRadius","children","style","color","marginBottom","name","fontSize","type","label","size","inputProps","min","value","onChange","e","Math","max","target","width","variant","onClick","fontStyle"],"sources":["C:/Users/Emily/hw4-react-app/frontend/src/ProjectCard.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Card, CardContent, Button, TextField } from '@mui/material';\r\n\r\nfunction ProjectCard({ project, setProjectJoined, hardwareQty, setHardwareQty }) {\r\n  const [message, setMessage] = useState('');\r\n  const [qtyInput, setQtyInput] = useState(1);\r\n\r\n  const showMessage = (msg) => {\r\n    setMessage(msg);\r\n    setTimeout(() => setMessage(''), 3000);\r\n  };\r\n\r\n  const handleJoin = async () => {\r\n    try {\r\n      const endpoint = project.joined ? 'leave' : 'join';\r\n      const res = await fetch(`/${endpoint}?projectId=${project.id}`);\r\n      const data = await res.json();\r\n      showMessage(data.message);\r\n      setProjectJoined(project.id, !project.joined);\r\n    } catch (err) {\r\n      showMessage('Error connecting to server');\r\n    }\r\n  };\r\n\r\n  const handleCheckIn = async () => {\r\n    try {\r\n      const res = await fetch(`/checkin?projectId=${project.id}&qty=${qtyInput}`);\r\n      const data = await res.json();\r\n      showMessage(data.message);\r\n      setHardwareQty(hardwareQty + Number(qtyInput));\r\n    } catch (err) {\r\n      showMessage('Check-in failed');\r\n    }\r\n  };\r\n\r\n  const handleCheckOut = async () => {\r\n    if (qtyInput > hardwareQty) {\r\n      showMessage(`Not enough hardware. Only ${hardwareQty} available.`);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(`/checkout?projectId=${project.id}&qty=${qtyInput}`);\r\n      const data = await res.json();\r\n      showMessage(data.message);\r\n      setHardwareQty(hardwareQty - Number(qtyInput));\r\n    } catch (err) {\r\n      showMessage('Check-out failed');\r\n    }\r\n  };\r\n\r\n  const buttonStyle = {\r\n    backgroundColor: '#ffb3c1',\r\n    marginRight: '0.5rem',\r\n    '&:hover': {\r\n      backgroundColor: '#ff9fb2'\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card sx={{ margin: '1rem 0', border: '2px solid #ffc1cc', borderRadius: '12px' }}>\r\n      <CardContent>\r\n        <h2 style={{ color: '#f47c7c', marginBottom: '0.5rem' }}>{project.name}</h2>\r\n        <p style={{ marginBottom: '1rem' }}>\r\n          {project.joined\r\n            ? 'You have joined this project.'\r\n            : 'You are not joined yet.'}\r\n        </p>\r\n        <p style={{ fontSize: '0.9rem', marginBottom: '0.5rem' }}>\r\n          Shared hardware available: <strong>{hardwareQty}</strong>\r\n        </p>\r\n\r\n        <TextField\r\n          type=\"number\"\r\n          label=\"Qty\"\r\n          size=\"small\"\r\n          inputProps={{ min: 1 }}\r\n          value={qtyInput}\r\n          onChange={(e) => setQtyInput(Math.max(1, Number(e.target.value)))}\r\n          sx={{ marginBottom: '1rem', marginRight: '0.5rem', width: '80px' }}\r\n        />\r\n\r\n        <div style={{ marginBottom: '1rem' }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={handleJoin}\r\n            sx={{\r\n              backgroundColor: project.joined ? '#ff99ac' : '#ffb3c1',\r\n              marginRight: '0.5rem',\r\n              '&:hover': {\r\n                backgroundColor: project.joined ? '#ff748c' : '#ff9fb2'\r\n              }\r\n            }}\r\n          >\r\n            {project.joined ? 'Leave Project' : 'Join Project'}\r\n          </Button>\r\n          <Button variant=\"contained\" onClick={handleCheckOut} sx={buttonStyle}>\r\n            Check Out\r\n          </Button>\r\n          <Button variant=\"contained\" onClick={handleCheckIn} sx={buttonStyle}>\r\n            Check In\r\n          </Button>\r\n        </div>\r\n\r\n        {message && (\r\n          <p style={{ color: '#888', fontStyle: 'italic', fontSize: '0.9rem' }}>{message}</p>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ProjectCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}